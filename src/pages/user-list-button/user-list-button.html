<!--
  Generated template for the UserListButtonPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color='navbar'>
    <ion-title>List</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>
  <div id="title" class="title-text">{{ui.title}}</div>
  <div id="subtitle" class="subtitle-text">{{ui.subtitle}}</div>
  <ion-searchbar id="searchBar" [showCancelButton]="false" [animated]="true" [(ngModel)]="searchTerm" [formControl]="searchControl" (ionInput)="onSearchInput()"></ion-searchbar>
  <div *ngIf="searching" class="spinner-container">
        <ion-spinner name="crescent"></ion-spinner>
  </div>  
  <ion-list class="invisible">
    <ion-item id="userItem" *ngFor="let user of list; let i = index;" no-lines class="no-pad">
      <user-item *ngIf="i < 70" [user]="user" [detailed]="1"></user-item>
      <button *ngIf='!isInList(listToPopulate, user, "id") && i < 40' id="check" ion-button outline item-right (click)="addToList(listToPopulate, user)">{{this.ui.addText}}</button>
      <button *ngIf='isInList(listToPopulate, user, "id") && i < 40' color="secondary" id="remove" ion-button outline item-right (click)="removeFromList(listToPopulate, user, 'id')">{{this.ui.addedText}}</button>
    </ion-item>
  </ion-list>
  <div class="minispace"></div>
</ion-content>

<ion-footer>
  <ion-navbar color='navbar'>
    <button (click)='closeModal()' class="closeBtn"><ion-icon name="arrow-down"></ion-icon></button>
  </ion-navbar>
</ion-footer>